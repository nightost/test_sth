<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>flash上传头像组件演示</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="Keywords" content="flash头像上传组件，仿新浪微博头像上传组件，头像图片剪裁" />
<meta name="Description" content="flash 上传头像，用户体验好，头像剪裁，预览组件" />
<style type="text/css" media="screen">
html, body { height:100%; background-color: #ffffff;}
#flashContent { width:100%; height:100%; }
</style>
<script type="text/javascript" src="js/swfobject.js"></script>
</head>
<body>
<div id="altContent">

</div>

<div style="text-align:left;"><input type="button" onclick="swfobject.getObjectById('FaustCplus').jscall_updateAvatar();" value="JS上传头像"/></div>

 <script type="text/javascript">
			function uploadevent(status){
			     status += '';
				 switch(status){

					case '1':
						alert('上传成功');
						window.location.href = window.location.href;
					break;

					case '2':
						if(confirm('js call upload')){
							return 1;
						}else{
							return 0;
						}
					break;
					case '-1':
						alert('取消成功');
						window.location.href = window.location.href;
					break;
					case '-2':
						alert('上传失败，请重新上传!');
						window.location.href = window.location.href;
					break;

					default:
						alert('上传失败');
						//alert(typeof(status) + ' ' + status);
				} 
			}

			var flashvars = {
			  "jsfunc":"uploadevent",
			  "imgUrl":"Upload_Face/nopic.gif",
			  "pid":"75642723",
			  "uploadSrc":false,//是否上传原图
			  "showBrow":true, //是否显示本地照片按钮
			  "showCame":true, //是否显示拍照上传按钮
			  "uploadUrl":"./Upload_Face/Upload_File.Asp?action=uploadavatar",
			  "pSize":"300|300|150|150|80|80|50|50", //这里可以改预览头像尺寸
			  //"pCut":"150|150"  这里可以改默认裁剪框尺寸
			};

			var params = {
				menu: "false",
				scale: "noScale",
				allowFullscreen: "true",
				allowScriptAccess: "always",
				wmode:"transparent",
				bgcolor: "#FFFFFF"
			};

			var attributes = {
				id:"FaustCplus"
			};

			swfobject.embedSWF("Upload_Face/FaustCplus.swf", "altContent", "650", "500", "9.0.0", "Upload_Face/expressInstall.swf", flashvars, params, attributes);

		</script>

</body>
</html>